/**
 * Monet.js 0.9.0-rc.1
 *
 * (c) 2012-2018 Chris Myers
 * @license Monet.js may be freely distributed under the MIT license.
 * For all details and documentation:
 * https://monet.github.io/monet.js/
 */
!function(t,n){"function"==typeof define&&define.amd?define(n):"object"==typeof module&&module.exports?module.exports=n(t):(t.notUseMonetGlobalObject=!t.useMonetGlobalObject,t.Monet=n(t))}("undefined"!=typeof self?self:this,function(n){"use strict";var i={};var r=isFunction(Object.assign)?Object.assign:function assignImp(t,n){for(var i in n)n.hasOwnProperty(i)&&void 0!==n[i]&&(t[i]=n[i]);return t},e={apply2:apply2,assign:r,compose:compose,curry:curry(swap(curry),[])([]),idFunction:idFunction,isFunction:isFunction,noop:noop,swap:swap},o="@@type",u="monet.js",s="Identity",f="Maybe",c="Either",a="Validation",p="List",h="NEL",l="IO",y="MonadT",d="Reader",L="Free";function setType(t,n){t[o]=u+"/"+n}function isInstance(n){return function(t){return t[o]||t.constructor[o]===u+"/"+n}}function isOfType(i){return function(t){var n=t[o]||t.constructor&&t.constructor[o];return!!n&&n.length>=i.length&&n.indexOf(i)==n.length-i.length}}function isNothing(t){return null==t}function noop(){}function curry(n,i){return function(){var t=i.concat(function getArgs(t){return Array.prototype.slice.call(t)}(arguments));return t.length>=n.length?n.apply(null,t.slice(0,t.length)):curry(n,t)}}function compose(n,i){return function(t){return n(i(t))}}function isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}function idFunction(t){return t}function areEqual(t,n){return t===n||t!=t&&n!=n||!(!t||!n)&&(!(!isFunction(t.equals)||!isFunction(n.equals))&&t.equals(n))}function equals(n){return function(t){return areEqual(n,t)}}function falseFunction(){return!1}function swap(i){return function(t,n){return i(n,t)}}function apply2(t,n,i){return n.ap(t.map(curry(i,[])))}function listEquals(t,n){for(var i=t,r=n;!i.isNil&&!r.isNil;){if(!equals(i.head())(r.head()))return!1;i=i.tail(),r=r.tail()}return i.isNil&&r.isNil}function listMap(t,n){return function listMapC(t,n){return n.isNil?P(n):z(function(){return listMapC(t,n.tail())}).map(curry(cons,[])(t(n.head())))}(t,n).run()}function listFilter(t,i){return t.foldRight(m)(function(t,n){return i(t)?cons(t,n):n})}function listFind(t,n){return function listFindC(t,n){if(t.isNil)return P(b());var i=t.head();return n(i)?P(T(i)):z(function(){return listFindC(t.tail(),n)})}(t,n).run()}function listContains(t,n){return function listContainsC(t,n){return t.isNil?P(!1):areEqual(t.head(),n)?P(!0):z(function(){return listContainsC(t.tail(),n)})}(t,n).run()}function cons(t,n){return n.cons(t)}function List(){switch(arguments.length){case 0:return new List.fn.init;case 1:return new List.fn.init(arguments[0]);default:return new List.fn.init(arguments[0],arguments[1])}}i.List=List;var m,v=function(t,n){n.isNil||(t(n.head()),v(t,n.tail()))},N=function(i,t,n){return function fL(t,n){return n.isNil?P(t):z(function(){return fL(i(t,n.head()),n.tail())})}(t,n).run()},E=function(i,t,n){return function fR(n,t){return n.isNil?P(t):z(function(){return fR(n.tail(),t)}).map(function(t){return i(n.head(),t)})}(t,n).run()},g=function(t,n){return function appendFree(n,t){return n.isNil?P(t):z(function(){return appendFree(n.tail(),t).map(function(t){return t.cons(n.head())})})}(t,n).run()},S=function(t,n){return t.foldRight(n.of(m))(n.map2(cons))},t=function(t){return t.foldLeft(m)(swap(cons))};function emptyNELError(t){return Error("Cannot create an empty Non-Empty List. Passed head is "+t+".")}function NEL(t,n){if(isNothing(t))throw emptyNELError(t);return new NEL.fn.init(t,n)}(List.fn=List.prototype={init:function(){var t=arguments[0],n=arguments[1];0===arguments.length?(this.isNil=!0,this.size_=0):(this.isNil=!1,this.head_=t,this.tail_=n||m,this.size_=this.tail_.size()+1),setType(this,p)},of:function(t){return new List(t)},size:function(){return this.size_},equals:function(t){return(List.isOfType(t)||NEL.isOfType(t))&&listEquals(this,t)},cons:function(t){return List(t,this)},snoc:function(t){return this.concat(List(t))},map:function(t){return listMap(t,this)},toArray:function(){return N(function(t,n){return t.push(n),t},[],this)},toSet:function(){if(!n.Set)throw Error('Provide polyfill or use up to date browser/node version to use "toSet" operator.');return new Set(this)},foldLeft:function(n){var i=this;return function(t){return N(t,n,i)}},foldRight:function(n){var i=this;return function(t){return E(t,i,n)}},append:function(t){return g(this,t)},filter:function(t){return listFilter(this,t)},find:function(t){return listFind(this,t)},flatten:function(){return E(g,this,m)},flattenMaybe:function(){return this.flatMap(F.toList)},reverse:function(){return t(this)},bind:function(t){return this.map(t).flatten()},forEach:function(t){v(t,this)},contains:function(t){return listContains(this,t)},sequenceMaybe:function(){return S(this,F)},sequenceValidation:function(){return this.foldLeft(I(m))(function(t,n){return t.ap(n.map(function(n){return function(t){return cons(n,t)}}))}).map(t)},sequenceEither:function(){return S(this,V)},sequenceIO:function(){return S(this,q)},sequenceReader:function(){return S(this,C)},sequence:function(t){return S(this,t)},head:function(){return this.head_},headMaybe:function(){return this.isNil?b():T(this.head_)},tail:function(){return this.isNil?m:this.tail_},tails:function(){return this.isNil?List(m,m):this.tail().tails().cons(this)},ap:function(t){return i=t,this.bind(function(n){return i.map(function(t){return t(n)})});var i},isNEL:falseFunction,toString:function(){return this.isNil?"Nil":"List("+this.toArray().join(", ")+")"},inspect:function(){return this.toString()}}).init.prototype=List.fn,setType(List,p),setType(List.fn.init,p),List.isInstance=isInstance(p),List.isOfType=isOfType(p),List.prototype.empty=function(){return m},List.fromArray=function(t){return t.reduceRight(function(t,n){return t.cons(n)},m)},List.from=function(t){return List.fromArray(Array.from(t))},List.of=function(t){return new List(t,m)},List.prototype.each=List.prototype.forEach,m=i.Nil=new List.fn.init,i.NEL=i.NonEmptyList=NEL,NEL.of=function(t){return NEL(t,m)},NEL.fn=NEL.prototype={init:function(t,n){if(isNothing(t))throw emptyNELError(t);this.isNil=!1,this.head_=t,this.tail_=isNothing(n)?m:n,this.size_=this.tail_.size()+1,setType(this,h)},equals:function(t){return List.isOfType(t)||NEL.isOfType(t)&&listEquals(this,t)},cons:function(t){return NEL(t,this.toList())},snoc:function(t){return this.concat(NEL(t))},map:function(t){return NEL(t(this.head_),listMap(t,this.tail_))},bind:function(r){var t=r(this.head_);if(!t.isNEL())throw Error("NEL.fn.bind: Passed function must return a NonEmptyList.");var n=this.tail().foldLeft(m.snoc(t.head()).append(t.tail()))(function(t,n){var i=r(n).toList();return t.snoc(i.head()).append(i.tail())});return new NEL(n.head(),n.tail())},head:function(){return this.head_},tail:function(){return this.tail_},tails:function(){var t=this.toList().tails().map(NEL.fromList).flattenMaybe();return NEL(t.head(),t.tail())},toList:function(){return List(this.head_,this.tail_)},reverse:function(){if(this.tail().isNil)return this;var t=this.tail().reverse();return NEL(t.head(),t.tail().append(List(this.head())))},foldLeft:function(t){return this.toList().foldLeft(t)},foldRight:function(t){return this.toList().foldRight(t)},reduceLeft:function(t){return this.tail().foldLeft(this.head())(t)},filter:function(t){return listFilter(this.toList(),t)},find:function(t){return listFind(this.toList(),t)},flatten:function(){return E(g,this.toList().map(function(t){return t.isNEL()?t.toList():t}),m)},flattenMaybe:function(){return this.toList().flatMap(F.toList)},contains:function(t){return listContains(this.toList(),t)},append:function(t){return NEL.fromList(this.toList().append(t.toList())).some()},cobind:function(t){return this.cojoin().map(t)},size:function(){return this.size_},forEach:function(t){return this.toList().forEach(t)},isNEL:function trueFunction(){return!0},toString:function(){return"NEL("+this.toArray().join(", ")+")"},inspect:function(){return this.toString()}},NEL.fromList=function(t){return t.isNil?b():T(NEL(t.head(),t.tail()))},NEL.fromArray=function(t){return NEL.fromList(List.fromArray(t))},NEL.from=function(t){return NEL.fromList(List.from(t))},NEL.fn.init.prototype=NEL.fn,setType(NEL,h),setType(NEL.fn.init,h),NEL.isInstance=isInstance(h),NEL.isOfType=isOfType(h),NEL.prototype.toArray=List.prototype.toArray,NEL.prototype.toSet=List.prototype.toSet,NEL.prototype.extract=NEL.prototype.copure=NEL.prototype.head,NEL.prototype.cojoin=NEL.prototype.tails,NEL.prototype.coflatMap=NEL.prototype.mapTails=NEL.prototype.cobind,NEL.prototype.ap=List.prototype.ap;var F=i.Maybe={};F.fromFalsy=function(t){return t?F.Some(t):F.None()},F.fromNull=function(t){return isNothing(t)?F.None():F.Some(t)},F.fromUndefined=function(t){return void 0===t?F.None():F.Some(t)},F.of=function(t){return T(t)};var T=F.Just=F.Some=F.some=i.Some=i.Just=function(t){return new F.fn.init(!0,t)},b=F.Nothing=F.None=F.none=i.None=i.Nothing=function(){return new F.fn.init(!1,null)};F.toList=function(t){return t.toList()},F.fn=F.prototype={init:function(t,n){if((this.isValue=t)&&isNothing(n))throw Error("Can not create Some with illegal value: "+n+".");this.val=n,setType(this,f)},isSome:function(){return this.isValue},isNone:function(){return!this.isSome()},bind:function(t){return this.isValue?t(this.val):this},some:function(){if(this.isValue)return this.val;throw Error("Cannot call .some() on a None.")},orSome:function(t){return this.isValue?this.val:t},orLazy:function(t){return this.cata(t,idFunction)},orNull:function(){return this.orSome(null)},orUndefined:function(){return this.orSome(void 0)},orElse:function(t){return this.catchMap(function(){return t})},ap:function(t){var n=this.val;return this.isValue?t.map(function(t){return t(n)}):this},equals:function(n){return F.isOfType(n)&&this.cata(function(){return n.isNone()},function(t){return n.fold(!1)(equals(t))})},toArray:function(){return this.map(function(t){return[t]}).orLazy(function(){return[]})},toSet:function(){if(!n.Set)throw Error('Provide polyfill or use up to date browser/node version to use "toSet" operator.');return new Set(this)},toList:function(){return this.map(List).orLazy(function(){return m})},toEither:function(t){return this.isSome()?A(this.val):_(t)},toValidation:function(t){return this.isSome()?I(this.val):O(t)},fold:function(n){var i=this;return function(t){return i.isSome()?t(i.val):n}},foldLeft:function(t){return this.toList().foldLeft(t)},foldRight:function(t){return this.toList().foldRight(t)},cata:function(t,n){return this.isSome()?n(this.val):t()},catchMap:function(t){return this.isSome()?this:t()},filter:function(n){var i=this;return i.flatMap(function(t){return n(t)?i:b()})},orNoneIf:function(t){return t?b():this},contains:function(t){return!!this.isSome()&&areEqual(this.val,t)},forEach:function(t){this.cata(noop,t)},orElseRun:function(t){this.cata(t,noop)},toString:function(){return this.isSome()?"Just("+this.val+")":"Nothing"},inspect:function(){return this.toString()}},F.prototype.orJust=F.prototype.getOrElse=F.prototype.orSome,F.prototype.just=F.prototype.some,F.prototype.isJust=F.prototype.isSome,F.prototype.isNothing=F.prototype.isNone,F.prototype.orNothingIf=F.prototype.orNoneIf,F.fn.init.prototype=F.fn,setType(F,f),setType(F.fn.init,f),F.isInstance=isInstance(f),F.isOfType=isOfType(f);var w=i.Validation={},I=w.Success=w.success=i.Success=function(t){return new w.fn.init(t,!0)},O=w.Fail=w.fail=i.Fail=function(t){return new w.fn.init(t,!1)};w.of=function(t){return I(t)},w.fn=w.prototype={init:function(t,n){this.val=t,this.isSuccessValue=n,setType(this,a)},success:function(){if(this.isSuccess())return this.val;throw Error("Cannot call success() on a Fail.")},isSuccess:function(){return this.isSuccessValue},isFail:function(){return!this.isSuccessValue},fail:function(){if(this.isSuccess())throw Error("Cannot call fail() on a Success.");return this.val},bind:function(t){return this.isSuccess()?t(this.val):this},ap:function(t){var n=this.val;return this.isSuccess()?t.map(function(t){return t(n)}):t.isFail()?w.Fail(M.append(n,t.fail())):this},acc:function(){var t=function(){return t};return this.isSuccessValue?w.success(t):this},foldLeft:function(t){return this.toMaybe().toList().foldLeft(t)},foldRight:function(t){return this.toMaybe().toList().foldRight(t)},cata:function(t,n){return this.isSuccessValue?n(this.val):t(this.val)},catchMap:function(t){return this.isSuccess()?this:t(this.val)},swap:function(){return this.isSuccess()?O(this.val):I(this.val)},failMap:function(t){return this.isFail()?O(t(this.val)):this},bimap:function(t,n){return this.isSuccessValue?this.map(n):this.failMap(t)},forEach:function(t){this.cata(noop,t)},forEachFail:function(t){this.cata(t,noop)},equals:function(n){return w.isOfType(n)&&this.cata(function(t){return n.cata(equals(t),falseFunction)},function(t){return n.cata(falseFunction,equals(t))})},toMaybe:function(){return this.isSuccess()?T(this.val):b()},toEither:function(){return(this.isSuccess()?A:_)(this.val)},toString:function(){return(this.isSuccess()?"Success(":"Fail(")+this.val+")"},inspect:function(){return this.toString()}},w.prototype.fold=w.prototype.cata,w.fn.init.prototype=w.fn,setType(w,a),setType(w.fn.init,a),w.isInstance=isInstance(a),w.isOfType=isOfType(a);var M=i.Semigroup={append:function(t,n){if(isFunction(t.concat))return t.concat(n);throw Error("Couldn't find a semigroup appender in the environment, please specify your own append function")}},R=i.monadTransformer=i.MonadT=i.monadT=function(t){return new R.fn.init(t)};R.of=function(t){return R(t)},R.fn=R.prototype={init:function(t){this.monad=t,setType(w,y)},map:function(n){return R(this.monad.map(function(t){return t.map(n)}))},bind:function(n){return R(this.monad.map(function(t){return t.flatMap(n)}))},ap:function(t){return R(this.monad.flatMap(function(n){return t.perform().map(function(t){return n.ap(t)})}))},perform:function(){return this.monad}},R.fn.init.prototype=R.fn;var q=i.IO=i.io=function(t){return new q.fn.init(t)};q.of=function(t){return q(function(){return t})},q.fn=q.prototype={init:function(t){if(!isFunction(t))throw Error("IO requires a function.");this.effectFn=t,setType(w,l)},map:function(t){var n=this;return q(function(){return t(n.effectFn())})},bind:function(t){var n=this;return q(function(){return t(n.effectFn()).run()})},ap:function(t){var n=this;return t.map(function(t){return t(n.effectFn())})},run:function(){return this.effectFn()}},q.fn.init.prototype=q.fn,setType(q,l),setType(q.fn.init,l),q.isInstance=isInstance(l),q.isOfType=isOfType(l),q.prototype.perform=q.prototype.performUnsafeIO=q.prototype.run;var V=i.Either={};V.of=function(t){return A(t)};var A=V.Right=V.right=i.Right=function(t){return new V.fn.init(t,!0)},_=V.Left=V.left=i.Left=function(t){return new V.fn.init(t,!1)};V.fn=V.prototype={init:function(t,n){this.isRightValue=n,this.value=t,setType(this,c)},bind:function(t){return this.isRightValue?t(this.value):this},ap:function(t){var n=this;return this.isRightValue?t.map(function(t){return t(n.value)}):this},leftMap:function(t){return this.isLeft()?_(t(this.value)):this},isRight:function(){return this.isRightValue},isLeft:function(){return!this.isRight()},right:function(){if(this.isRightValue)return this.value;throw Error("Cannot call right() on a Left.")},left:function(){if(this.isRightValue)throw Error("Cannot call left() on a Right.");return this.value},foldLeft:function(t){return this.toMaybe().toList().foldLeft(t)},foldRight:function(t){return this.toMaybe().toList().foldRight(t)},cata:function(t,n){return this.isRightValue?n(this.value):t(this.value)},catchMap:function(t){return this.isRight()?this:t(this.value)},swap:function(){return this.isRight()?_(this.value):A(this.value)},forEach:function(t){this.cata(noop,t)},forEachLeft:function(t){this.cata(t,noop)},equals:function(n){return V.isOfType(n)&&this.cata(function(t){return n.cata(equals(t),falseFunction)},function(t){return n.cata(falseFunction,equals(t))})},bimap:function(t,n){return this.isRightValue?this.map(n):this.leftMap(t)},toMaybe:function(){return this.isRight()?T(this.value):b()},toValidation:function(){return this.isRight()?I(this.value):O(this.value)},toString:function(){return this.cata(function(t){return"Left("+t+")"},function(t){return"Right("+t+")"})},inspect:function(){return this.toString()}},V.prototype.fold=V.prototype.cata,V.fn.init.prototype=V.fn,setType(V,c),setType(V.fn.init,c),V.isInstance=isInstance(c),V.isOfType=isOfType(c);var C=i.Reader=function(t){return new C.fn.init(t)};C.of=function(n){return C(function(t){return n})},C.ask=function(){return C(idFunction)},C.fn=C.prototype={init:function(t){this.f=t,setType(this,d)},run:function(t){return this.f(t)},bind:function(n){var i=this;return C(function(t){return n(i.run(t)).run(t)})},ap:function(t){var i=this;return t.bind(function(n){return C(function(t){return n(i.run(t))})})},map:function(n){var i=this;return C(function(t){return n(i.run(t))})},local:function(n){var i=this;return C(function(t){return i.run(n(t))})}},C.fn.init.prototype=C.fn,setType(C,d),setType(C.fn.init,d),C.isInstance=isInstance(d),C.isOfType=isOfType(d);var j=i.Free={},z=j.Suspend=i.Suspend=function(t){return new j.fn.init(t,!0)},P=j.Return=i.Return=function(t){return new j.fn.init(t,!1)};function Identity(t){return new Identity.fn.init(t)}function decorate(t){!function addAliases(t){t.prototype.flatMap=t.prototype.chain=t.prototype.bind,t.pure=t.unit=t.of,t.prototype.of=t.of,isFunction(t.prototype.append)&&(t.prototype.concat=t.prototype.append),t.prototype.point=t.prototype.pure=t.prototype.unit=t.prototype.of}(t),function addFilterNot(t){isFunction(t.prototype.filter)&&(t.prototype.filterNot=function(n){return this.filter(function(t){return!n(t)})})}(t),function addMonadOps(t){t.prototype.join=function(){return this.flatMap(idFunction)},t.map2=function(r){return function(t,i){return t.flatMap(function(n){return i.map(function(t){return r(n,t)})})}}}(t),function addFunctorOps(t){isFunction(t.prototype.map)||(t.prototype.map=function(t){return this.bind(compose(this.of,t))})}(t),function addApplicativeOps(t){t.prototype.takeLeft=function(t){return apply2(this,t,function(t,n){return t})},t.prototype.takeRight=function(t){return apply2(this,t,function(t,n){return n})}}(t),function addCollectionPredicates(t){isFunction(t.prototype.toArray)&&(t.prototype.every=t.prototype.forall=function(t){return this.toArray().every(t)},t.prototype.exists=function(t){return this.toArray().some(t)})}(t),function addFantasyLandAliases(n){["equals","map","ap","chain"].filter(function(t){return isFunction(n.prototype[t])}).forEach(function(t){n.prototype["fantasy-land/"+t]=n.prototype[t]})}(t),function makeIterable(t){isFunction(t.prototype.toArray)&&(n.Symbol||console.error(Error('Provide polyfill or use up to date browser/node version to use "Iterable" protocol.')),t.prototype[Symbol.iterator]=function(){return this.toArray()[Symbol.iterator]()})}(t),function addToOperator(t){isFunction(t.prototype.toArray)&&(t.prototype.to=function(t){return t(this)})}(t)}return j.of=function(t){return P(t)},j.liftF=function(t){return isFunction(t)?z(compose(P,t)):z(t.map(P))},j.fn=j.prototype={init:function(t,n){(this.isSuspend=n)?this.functor=t:this.val=t,setType(this,L)},run:function(){return this.go(function(t){return t()})},bind:function(n){return this.isSuspend?isFunction(this.functor)?z(compose(function(t){return t.bind(n)},this.functor)):z(this.functor.map(function(t){return t.bind(n)})):n(this.val)},ap:function(t){return this.bind(function(n){return t.map(function(t){return t(n)})})},resume:function(){return this.isSuspend?_(this.functor):A(this.val)},go1:function(n){return function go2(t){return t.resume().cata(function(t){return go2(n(t))},idFunction)}(this)},go:function(t){for(var n=this.resume();n.isLeft();){n=t(n.left()).resume()}return n.right()}},j.fn.init.prototype=j.fn,setType(j,L),setType(j.fn.init,L),j.isInstance=isInstance(L),j.isOfType=isOfType(L),(i.Identity=Identity).of=function(t){return new Identity(t)},(Identity.fn=Identity.prototype={init:function(t){this.val=t,setType(this,s)},bind:function(t){return t(this.val)},get:function(){return this.val},forEach:function(t){t(this.val)},equals:function(t){return Identity.isOfType(t)&&equals(this.get())(t.get())},contains:function(t){return areEqual(this.val,t)},toString:function(){return"Identity("+this.val+")"},inspect:function(){return this.toString()},ap:function(t){var n=this.val;return t.map(function(t){return t(n)})},toArray:function(){return[this.get()]},toList:function(){return List(this.get(),m)},toSet:function(){if(!n.Set)throw Error('Provide polyfill or use up to date browser/node version to use "toSet" operator.');return new Set(this)}}).init.prototype=Identity.fn,setType(Identity,s),setType(Identity.fn.init,s),Identity.isInstance=isInstance(s),Identity.isOfType=isOfType(s),decorate(R),decorate(V),decorate(F),decorate(q),decorate(NEL),decorate(List),decorate(w),decorate(C),decorate(j),decorate(Identity),F.fromNull(n).filter(function(t){return!!t.notUseMonetGlobalObject}).cata(function(){return r(e,i)},function(t){return r(t,i),e})});