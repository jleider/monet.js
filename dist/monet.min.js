/**
 * Monet.js 0.9.0-alpha.4
 *
 * (c) 2012-2017 Chris Myers
 * @license Monet.js may be freely distributed under the MIT license.
 * For all details and documentation:
 * https://monet.github.io/monet.js/
 */
!function(t,n){"function"==typeof define&&define.amd?define(n):"object"==typeof module&&module.exports?module.exports=n():(t.notUseMonetGlobalObject=!t.useMonetGlobalObject,t.Monet=n(t))}(this,function(t){"use strict";function setType(t,n){t[r]="Monet/"+n}function isInstance(t){return function(n){return n[r]||n.costructor[r]==="Monet/"+t}}function isOfType(t){return function(n){var i=n[r]||n.costructor&&n.costructor[r]||null;return i.length>=t.length&&i.indexOf(t)===i.length-t.length}}function isNothing(t){return null==t}function noop(){}function getArgs(t){return Array.prototype.slice.call(t)}function curry(t,n){return function(){var i=n.concat(getArgs(arguments));return i.length>=t.length?t.apply(null,i.slice(0,i.length)):curry(t,i)}}function compose(t,n){return function(i){return t(n(i))}}function isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}function idFunction(t){return t}function areEqual(t,n){return t===n||t!=t&&n!=n||!(!t||!n)&&(!(!isFunction(t.equals)||!isFunction(n.equals))&&t.equals(n))}function equals(t){return function(n){return areEqual(t,n)}}function falseFunction(){return!1}function swap(t){return function(n,i){return t(i,n)}}function apply2(t,n,i){return n.ap(t.map(curry(i,[])))}function listEquals(t,n){for(var i=t,e=n;!i.isNil&&!e.isNil;){if(!equals(i.head())(e.head()))return!1;i=i.tail(),e=e.tail()}return i.isNil&&e.isNil}function listMapC(t,n){return n.isNil?R(n):M(function(){return listMapC(t,n.tail())}).map(curry(cons,[])(t(n.head())))}function listMap(t,n){return listMapC(t,n).run()}function listFilter(t,n){return t.foldRight(o)(function(t,i){return n(t)?cons(t,i):i})}function listFindC(t,n){if(t.isNil)return R(L());var i=t.head();return n(i)?R(y(i)):M(function(){return listFindC(t.tail(),n)})}function listFind(t,n){return listFindC(t,n).run()}function listContainsC(t,n){return t.isNil?R(!1):areEqual(t.head(),n)?R(!0):M(function(){return listContainsC(t.tail(),n)})}function listContains(t,n){return listContainsC(t,n).run()}function cons(t,n){return n.cons(t)}function List(){switch(arguments.length){case 0:return new List.fn.init;case 1:return new List.fn.init(arguments[0]);default:return new List.fn.init(arguments[0],arguments[1])}}function emptyNELError(t){return Error("Cannot create an empty Non-Empty List. Passed head is "+t+".")}function NEL(t,n){if(isNothing(t))throw emptyNELError(t);return new NEL.fn.init(t,n)}function Identity(t){return new Identity.fn.init(t)}function addFantasyLandAliases(t){["equals","map","ap","chain"].filter(function(n){return isFunction(t.prototype[n])}).forEach(function(n){t.prototype["fantasy-land/"+n]=t.prototype[n]})}function addAliases(t){t.prototype.flatMap=t.prototype.chain=t.prototype.bind,t.pure=t.unit=t.of,t.prototype.of=t.of,isFunction(t.prototype.append)&&(t.prototype.concat=t.prototype.append),t.prototype.point=t.prototype.pure=t.prototype.unit=t.prototype.of}function addFilterNot(t){isFunction(t.prototype.filter)&&(t.prototype.filterNot=function(t){return this.filter(function(n){return!t(n)})})}function addMonadOps(t){t.prototype.join=function(){return this.flatMap(idFunction)},t.map2=function(t){return function(n,i){return n.flatMap(function(n){return i.map(function(i){return t(n,i)})})}}}function addFunctorOps(t){isFunction(t.prototype.map)||(t.prototype.map=function(t){return this.bind(compose(this.of,t))})}function addApplicativeOps(t){t.prototype.takeLeft=function(t){return apply2(this,t,function(t,n){return t})},t.prototype.takeRight=function(t){return apply2(this,t,function(t,n){return n})}}function decorate(t){addAliases(t),addFilterNot(t),addMonadOps(t),addFunctorOps(t),addApplicativeOps(t),addFantasyLandAliases(t)}var n={},i=function(t){return isFunction(t)?t:function(t,n){for(var i in n)n.hasOwnProperty(i)&&void 0!==n[i]&&(t[i]=n[i]);return t}}(Object.assign),e={apply2:apply2,assign:i,compose:compose,curry:curry(swap(curry),[])([]),idFunction:idFunction,isFunction:isFunction,noop:noop,swap:swap},r="@@type";n.List=List;var o,u=function(t,n){n.isNil||(t(n.head()),u(t,n.tail()))},s=function(t,n,i){function fL(n,i){return i.isNil?R(n):M(function(){return fL(t(n,i.head()),i.tail())})}return fL(n,i).run()},f=function(t,n,i){function fR(n,i){return n.isNil?R(i):M(function(){return fR(n.tail(),i)}).map(function(i){return t(n.head(),i)})}return fR(n,i).run()},a=function(t,n){function appendFree(t,n){return t.isNil?R(n):M(function(){return appendFree(t.tail(),n).map(function(n){return n.cons(t.head())})})}return appendFree(t,n).run()},c=function(t,n){return t.foldRight(n.of(o))(n.map2(cons))},p=function(t){return t.foldLeft(N(o))(function(t,n){return t.ap(n.map(function(t){return function(n){return cons(t,n)}}))}).map(h)},h=function(t){return t.foldLeft(o)(swap(cons))},l=function(t,n){return t.bind(function(t){return n.map(function(n){return n(t)})})};List.fn=List.prototype={init:function(){var t=arguments[0],n=arguments[1];0===arguments.length?(this.isNil=!0,this.size_=0):(this.isNil=!1,this.head_=t,this.tail_=n||o,this.size_=this.tail_.size()+1),setType(this,"List")},of:function(t){return new List(t)},size:function(){return this.size_},equals:function(t){return List.isOfType(t)||NEL.isOfType(t)&&listEquals(this,t)},cons:function(t){return List(t,this)},snoc:function(t){return this.concat(List(t))},map:function(t){return listMap(t,this)},toArray:function(){return s(function(t,n){return t.push(n),t},[],this)},foldLeft:function(t){var n=this;return function(i){return s(i,t,n)}},foldRight:function(t){var n=this;return function(i){return f(i,n,t)}},append:function(t){return a(this,t)},filter:function(t){return listFilter(this,t)},find:function(t){return listFind(this,t)},flatten:function(){return f(a,this,o)},flattenMaybe:function(){return this.flatMap(d.toList)},reverse:function(){return h(this)},bind:function(t){return this.map(t).flatten()},forEach:function(t){u(t,this)},contains:function(t){return listContains(this,t)},sequenceMaybe:function(){return c(this,d)},sequenceValidation:function(){return p(this)},sequenceEither:function(){return c(this,T)},sequenceIO:function(){return c(this,F)},sequenceReader:function(){return c(this,O)},sequence:function(t){return c(this,t)},head:function(){return this.head_},headMaybe:function(){return this.isNil?L():y(this.head_)},tail:function(){return this.isNil?o:this.tail_},tails:function(){return this.isNil?List(o,o):this.tail().tails().cons(this)},ap:function(t){return l(this,t)},isNEL:falseFunction,toString:function(){return this.isNil?"Nil":"List("+this.toArray().join(", ")+")"},inspect:function(){return""+this}},List.fn.init.prototype=List.fn,setType(List,"List"),setType(List.fn.init,"List"),List.isInstance=isInstance("List"),List.isOfType=isOfType("List"),List.prototype.empty=function(){return o},List.fromArray=function(t){return t.reduceRight(function(t,n){return t.cons(n)},o)},List.of=function(t){return new List(t,o)},List.prototype.each=List.prototype.forEach,o=n.Nil=new List.fn.init,n.NEL=n.NonEmptyList=NEL,NEL.of=function(t){return NEL(t,o)},NEL.fn=NEL.prototype={init:function(t,n){if(isNothing(t))throw emptyNELError(t);this.isNil=!1,this.head_=t,this.tail_=isNothing(n)?o:n,this.size_=this.tail_.size()+1,setType(this,"NEL")},equals:function(t){return List.isOfType(t)||NEL.isOfType(t)&&listEquals(this,t)},map:function(t){return NEL(t(this.head_),listMap(t,this.tail_))},bind:function(t){var n=t(this.head_);if(!n.isNEL())throw Error("NEL.fn.bind: Passed function must return a NonEmptyList.");var i=this.tail().foldLeft(o.snoc(n.head()).append(n.tail()))(function(n,i){var e=t(i).toList();return n.snoc(e.head()).append(e.tail())});return new NEL(i.head(),i.tail())},head:function(){return this.head_},tail:function(){return this.tail_},tails:function(){var t=this.toList().tails().map(NEL.fromList).flattenMaybe();return NEL(t.head(),t.tail())},toList:function(){return List(this.head_,this.tail_)},reverse:function(){if(this.tail().isNil)return this;var t=this.tail().reverse();return NEL(t.head(),t.tail().append(List(this.head())))},foldLeft:function(t){return this.toList().foldLeft(t)},foldRight:function(t){return this.toList().foldRight(t)},reduceLeft:function(t){return this.tail().foldLeft(this.head())(t)},filter:function(t){return listFilter(this.toList(),t)},find:function(t){return listFind(this.toList(),t)},contains:function(t){return listContains(this.toList(),t)},append:function(t){return NEL.fromList(this.toList().append(t.toList())).some()},cobind:function(t){return this.cojoin().map(t)},size:function(){return this.size_},forEach:function(t){return this.toList().forEach(t)},isNEL:function trueFunction(){return!0},toString:function(){return"NEL("+this.toArray().join(", ")+")"},inspect:function(){return""+this}},NEL.fromList=function(t){return t.isNil?L():y(NEL(t.head(),t.tail()))},NEL.fn.init.prototype=NEL.fn,setType(NEL,"NEL"),setType(NEL.fn.init,"NEL"),NEL.isInstance=isInstance("NEL"),NEL.isOfType=isOfType("NEL"),NEL.prototype.toArray=List.prototype.toArray,NEL.prototype.extract=NEL.prototype.copure=NEL.prototype.head,NEL.prototype.cojoin=NEL.prototype.tails,NEL.prototype.coflatMap=NEL.prototype.mapTails=NEL.prototype.cobind,NEL.prototype.ap=List.prototype.ap;var d=n.Maybe={};d.fromFalsy=function(t){return t?d.Some(t):d.None()},d.fromNull=function(t){return isNothing(t)?d.None():d.Some(t)},d.fromUndefined=function(t){return void 0===t?d.None():d.Some(t)},d.of=function(t){return y(t)};var y=d.Just=d.Some=d.some=n.Some=n.Just=function(t){return new d.fn.init(!0,t)},L=d.Nothing=d.None=d.none=n.None=n.Nothing=function(){return new d.fn.init(!1,null)};d.toList=function(t){return t.toList()},d.fn=d.prototype={init:function(t,n){if(this.isValue=t,t&&isNothing(n))throw Error("Can not create Some with illegal value: "+n+".");this.val=n,setType(this,"Maybe")},isSome:function(){return this.isValue},isNone:function(){return!this.isSome()},bind:function(t){return this.isValue?t(this.val):this},some:function(){if(this.isValue)return this.val;throw Error("Cannot call .some() on a None.")},orSome:function(t){return this.isValue?this.val:t},orNull:function(){return this.isValue?this.val:null},orElse:function(t){return this.isValue?this:t},ap:function(t){var n=this.val;return this.isValue?t.map(function(t){return t(n)}):this},equals:function(t){return d.isOfType(t)&&this.cata(function(){return t.isNone()},function(n){return t.fold(!1)(equals(n))})},toList:function(){return this.map(List).orSome(o)},toEither:function(t){return this.isSome()?I(this.val):S(t)},toValidation:function(t){return this.isSome()?N(this.val):E(t)},fold:function(t){var n=this;return function(i){return n.isSome()?i(n.val):t}},foldLeft:function(t){return this.toList().foldLeft(t)},foldRight:function(t){return this.toList().foldRight(t)},cata:function(t,n){return this.isSome()?n(this.val):t()},filter:function(t){var n=this;return n.flatMap(function(i){return t(i)?n:L()})},orNoneIf:function(t){return t?L():this},contains:function(t){return!!this.isSome()&&areEqual(this.val,t)},forEach:function(t){this.cata(noop,t)},orElseRun:function(t){this.cata(t,noop)},toString:function(){return this.isSome()?"Just("+this.val+")":"Nothing"},inspect:function(){return""+this}},d.prototype.orJust=d.prototype.orSome,d.prototype.just=d.prototype.some,d.prototype.isJust=d.prototype.isSome,d.prototype.isNothing=d.prototype.isNone,d.prototype.orNothingIf=d.prototype.orNoneIf,d.fn.init.prototype=d.fn,setType(d,"Maybe"),setType(d.fn.init,"Maybe"),d.isInstance=isInstance("Maybe"),d.isOfType=isOfType("Maybe");var m=n.Validation={},N=m.Success=m.success=n.Success=function(t){return new m.fn.init(t,!0)},E=m.Fail=m.fail=n.Fail=function(t){return new m.fn.init(t,!1)};m.of=function(t){return N(t)},m.fn=m.prototype={init:function(t,n){this.val=t,this.isSuccessValue=n,setType(this,"Validation")},success:function(){if(this.isSuccess())return this.val;throw Error("Cannot call success() on a Fail.")},isSuccess:function(){return this.isSuccessValue},isFail:function(){return!this.isSuccessValue},fail:function(){if(this.isSuccess())throw Error("Cannot call fail() on a Success.");return this.val},bind:function(t){return this.isSuccess()?t(this.val):this},ap:function(t){var n=this.val;return this.isSuccess()?t.map(function(t){return t(n)}):t.isFail()?m.Fail(v.append(n,t.fail())):this},acc:function(){var t=function(){return t};return this.isSuccessValue?m.success(t):this},foldLeft:function(t){return this.toMaybe().toList().foldLeft(t)},foldRight:function(t){return this.toMaybe().toList().foldRight(t)},cata:function(t,n){return this.isSuccessValue?n(this.val):t(this.val)},failMap:function(t){return this.isFail()?E(t(this.val)):this},bimap:function(t,n){return this.isSuccessValue?this.map(n):this.failMap(t)},forEach:function(t){this.cata(noop,t)},forEachFail:function(t){this.cata(t,noop)},equals:function(t){return m.isOfType(t)&&this.cata(function(n){return t.cata(equals(n),falseFunction)},function(n){return t.cata(falseFunction,equals(n))})},contains:function(t){return!!this.isSuccessValue&&areEqual(this.val,t)},toMaybe:function(){return this.isSuccess()?y(this.val):L()},toEither:function(){return(this.isSuccess()?I:S)(this.val)},toString:function(){return(this.isSuccess()?"Success(":"Fail(")+this.val+")"},inspect:function(){return""+this}},m.prototype.fold=m.prototype.cata,m.fn.init.prototype=m.fn,setType(m,"Validation"),setType(m.fn.init,"Validation"),m.isInstance=isInstance("Validation"),m.isOfType=isOfType("Validation");var v=n.Semigroup={append:function(t,n){if(isFunction(t.concat))return t.concat(n);throw Error("Couldn't find a semigroup appender in the environment, please specify your own append function")}},g=n.monadTransformer=n.MonadT=n.monadT=function(t){return new g.fn.init(t)};g.of=function(t){return g(t)},g.fn=g.prototype={init:function(t){this.monad=t,setType(m,"MonadT")},map:function(t){return g(this.monad.map(function(n){return n.map(t)}))},bind:function(t){return g(this.monad.map(function(n){return n.flatMap(t)}))},ap:function(t){return g(this.monad.flatMap(function(n){return t.perform().map(function(t){return n.ap(t)})}))},perform:function(){return this.monad}},g.fn.init.prototype=g.fn;var F=n.IO=n.io=function(t){return new F.fn.init(t)};F.of=function(t){return F(function(){return t})},F.fn=F.prototype={init:function(t){if(!isFunction(t))throw Error("IO requires a function.");this.effectFn=t,setType(m,"IO")},map:function(t){var n=this;return F(function(){return t(n.effectFn())})},bind:function(t){var n=this;return F(function(){return t(n.effectFn()).run()})},ap:function(t){var n=this;return t.map(function(t){return t(n.effectFn())})},run:function(){return this.effectFn()}},F.fn.init.prototype=F.fn,setType(F,"IO"),setType(F.fn.init,"IO"),F.isInstance=isInstance("IO"),F.isOfType=isOfType("IO"),F.prototype.perform=F.prototype.performUnsafeIO=F.prototype.run;var T=n.Either={};T.of=function(t){return I(t)};var I=T.Right=T.right=n.Right=function(t){return new T.fn.init(t,!0)},S=T.Left=T.left=n.Left=function(t){return new T.fn.init(t,!1)};T.fn=T.prototype={init:function(t,n){this.isRightValue=n,this.value=t,setType(this,"Either")},bind:function(t){return this.isRightValue?t(this.value):this},ap:function(t){var n=this;return this.isRightValue?t.map(function(t){return t(n.value)}):this},leftMap:function(t){return this.isLeft()?S(t(this.value)):this},isRight:function(){return this.isRightValue},isLeft:function(){return!this.isRight()},right:function(){if(this.isRightValue)return this.value;throw Error("Cannot call right() on a Left.")},left:function(){if(this.isRightValue)throw Error("Cannot call left() on a Right.");return this.value},foldLeft:function(t){return this.toMaybe().toList().foldLeft(t)},foldRight:function(t){return this.toMaybe().toList().foldRight(t)},cata:function(t,n){return this.isRightValue?n(this.value):t(this.value)},forEach:function(t){this.cata(noop,t)},forEachLeft:function(t){this.cata(t,noop)},equals:function(t){return T.isOfType(t)&&this.cata(function(n){return t.cata(equals(n),falseFunction)},function(n){return t.cata(falseFunction,equals(n))})},contains:function(t){return!!this.isRight()&&areEqual(this.value,t)},bimap:function(t,n){return this.isRightValue?this.map(n):this.leftMap(t)},toMaybe:function(){return this.isRight()?y(this.value):L()},toValidation:function(){return this.isRight()?N(this.value):E(this.value)},toString:function(){return this.cata(function(t){return"Left("+t+")"},function(t){return"Right("+t+")"})},inspect:function(){return""+this}},T.prototype.fold=T.prototype.cata,T.fn.init.prototype=T.fn,setType(T,"Either"),setType(T.fn.init,"Either"),T.isInstance=isInstance("Either"),T.isOfType=isOfType("Either");var O=n.Reader=function(t){return new O.fn.init(t)};O.of=function(t){return O(function(n){return t})},O.ask=function(){return O(idFunction)},O.fn=O.prototype={init:function(t){this.f=t,setType(this,"Reader")},run:function(t){return this.f(t)},bind:function(t){var n=this;return O(function(i){return t(n.run(i)).run(i)})},ap:function(t){var n=this;return t.bind(function(t){return O(function(i){return t(n.run(i))})})},map:function(t){var n=this;return O(function(i){return t(n.run(i))})},local:function(t){var n=this;return O(function(i){return n.run(t(i))})}},O.fn.init.prototype=O.fn,setType(O,"Reader"),setType(O.fn.init,"Reader"),O.isInstance=isInstance("Reader"),O.isOfType=isOfType("Reader");var b=n.Free={},M=b.Suspend=n.Suspend=function(t){return new b.fn.init(t,!0)},R=b.Return=n.Return=function(t){return new b.fn.init(t,!1)};return b.of=function(t){return R(t)},b.liftF=function(t){return M(isFunction(t)?compose(R,t):t.map(R))},b.fn=b.prototype={init:function(t,n){this.isSuspend=n,n?this.functor=t:this.val=t,setType(this,"Free")},run:function(){return this.go(function(t){return t()})},bind:function(t){return this.isSuspend?M(isFunction(this.functor)?compose(function(n){return n.bind(t)},this.functor):this.functor.map(function(n){return n.bind(t)})):t(this.val)},ap:function(t){return this.bind(function(n){return t.map(function(t){return t(n)})})},resume:function(){return this.isSuspend?S(this.functor):I(this.val)},go1:function(t){function go2(n){return n.resume().cata(function(n){return go2(t(n))},idFunction)}return go2(this)},go:function(t){for(var n=this.resume();n.isLeft();)n=t(n.left()).resume();return n.right()}},b.fn.init.prototype=b.fn,setType(b,"Free"),setType(b.fn.init,"Free"),b.isInstance=isInstance("Free"),b.isOfType=isOfType("Free"),n.Identity=Identity,Identity.of=function(t){return new Identity(t)},Identity.fn=Identity.prototype={init:function(t){this.val=t,setType(this,"Identity")},bind:function(t){return t(this.val)},get:function(){return this.val},forEach:function(t){t(this.val)},equals:function(t){return Identity.isOfType(t)&&equals(this.get())(t.get())},contains:function(t){return areEqual(this.val,t)},toString:function(){return"Identity("+this.val+")"},inspect:function(){return""+this},ap:function(t){var n=this.val;return t.map(function(t){return t(n)})}},Identity.fn.init.prototype=Identity.fn,setType(Identity,"Identity"),setType(Identity.fn.init,"Identity"),Identity.isInstance=isInstance("Identity"),Identity.isOfType=isOfType("Identity"),decorate(g),decorate(T),decorate(d),decorate(F),decorate(NEL),decorate(List),decorate(m),decorate(O),decorate(b),decorate(Identity),d.fromNull(t).filter(function(t){return!!t.notUseMonetGlobalObject}).cata(function(){return i(e,n)},function(t){return i(t,n),e})});